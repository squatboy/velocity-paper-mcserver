{"format_version":"1.2","terraform_version":"1.11.4","variables":{"alert_email":{"value":"migonyoung01@gmail.com"},"availability_zone":{"value":"ap-northeast-2a"},"aws_region":{"value":"ap-northeast-2"},"key_name":{"value":"mcserver"},"paper_ebs_size":{"value":20},"paper_instance_type":{"value":"r6g.medium"},"private_subnet_cidr":{"value":"10.0.11.0/24"},"project_name":{"value":"mcserver"},"public_subnet_cidr":{"value":"10.0.1.0/24"},"velocity_ebs_size":{"value":1},"velocity_instance_type":{"value":"t4g.micro"},"vpc_cidr":{"value":"10.0.0.0/16"}},"planned_values":{"outputs":{"cloudwatch_agent_config_parameter":{"sensitive":false,"type":"string","value":"/aws/cloudwatch-agent/mcserver"},"cloudwatch_alarm_names":{"sensitive":false,"type":["object",{"paper_cpu_high":"string","paper_disk_monitoring":"string","paper_memory_high":"string","paper_network_monitoring":"string","velocity_cpu_high":"string"}],"value":{"paper_cpu_high":"mcserver-paper-cpu-high","paper_disk_monitoring":"mcserver-paper-disk-monitoring","paper_memory_high":"mcserver-paper-memory-high","paper_network_monitoring":"mcserver-paper-network-monitoring","velocity_cpu_high":"mcserver-velocity-cpu-high"}},"cloudwatch_log_groups":{"sensitive":false,"type":["object",{"paper_logs":"string","system_logs":"string","velocity_logs":"string"}],"value":{"paper_logs":"/minecraft/paper","system_logs":"/aws/ec2/system","velocity_logs":"/minecraft/velocity"}},"ec2_instances_info":{"sensitive":false},"ec2_instances_summary":{"sensitive":false},"iam_instance_profile_name":{"sensitive":false,"type":"string","value":"mcserver-ec2-profile"},"iam_role_arn":{"sensitive":false},"monitoring_info":{"sensitive":false},"paper_ebs_volume_id":{"sensitive":false},"paper_ec2_info":{"sensitive":false},"security_groups_info":{"sensitive":false},"sns_topic_arn":{"sensitive":false},"sns_topic_name":{"sensitive":false,"type":"string","value":"mcserver-monitoring-alerts"},"velocity_ebs_volume_id":{"sensitive":false},"velocity_ec2_info":{"sensitive":false},"velocity_ec2_public_ip":{"sensitive":false},"vpc_cidr_block":{"sensitive":false,"type":"string","value":"10.0.0.0/16"},"vpc_flow_logs_s3_bucket":{"sensitive":false},"vpc_flow_logs_s3_bucket_arn":{"sensitive":false},"vpc_id":{"sensitive":false}},"root_module":{"child_modules":[{"resources":[{"address":"module.cloudwatch.aws_cloudwatch_log_group.paper_logs","mode":"managed","type":"aws_cloudwatch_log_group","name":"paper_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"kms_key_id":null,"name":"/minecraft/paper","retention_in_days":3,"skip_destroy":false,"tags":{"Environment":"production","Name":"mcserver-paper-logs"},"tags_all":{"Environment":"production","ManagedBy":"terraform","Name":"mcserver-paper-logs","Project":"mcserver"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.cloudwatch.aws_cloudwatch_log_group.system_logs","mode":"managed","type":"aws_cloudwatch_log_group","name":"system_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"kms_key_id":null,"name":"/aws/ec2/system","retention_in_days":7,"skip_destroy":false,"tags":{"Environment":"production","Name":"mcserver-system-logs"},"tags_all":{"Environment":"production","ManagedBy":"terraform","Name":"mcserver-system-logs","Project":"mcserver"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.cloudwatch.aws_cloudwatch_log_group.velocity_logs","mode":"managed","type":"aws_cloudwatch_log_group","name":"velocity_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"kms_key_id":null,"name":"/minecraft/velocity","retention_in_days":3,"skip_destroy":false,"tags":{"Environment":"production","Name":"mcserver-velocity-logs"},"tags_all":{"Environment":"production","ManagedBy":"terraform","Name":"mcserver-velocity-logs","Project":"mcserver"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.cloudwatch.aws_cloudwatch_metric_alarm.paper_cpu_high","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"paper_cpu_high","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors paper ec2 cpu utilization","alarm_name":"mcserver-paper-cpu-high","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"CPUUtilization","metric_query":[],"namespace":"AWS/EC2","ok_actions":null,"period":300,"statistic":"Average","tags":{"Name":"mcserver-paper-cpu-alarm"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-paper-cpu-alarm","Project":"mcserver"},"threshold":80,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.cloudwatch.aws_cloudwatch_metric_alarm.paper_disk_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"paper_disk_monitoring","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_actions":null,"alarm_description":"Disk usage monitoring for paper server","alarm_name":"mcserver-paper-disk-monitoring","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"evaluation_periods":1,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"disk_used_percent","metric_query":[],"namespace":"CWAgent","ok_actions":null,"period":600,"statistic":"Average","tags":{"Name":"mcserver-paper-disk-monitoring"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-paper-disk-monitoring","Project":"mcserver"},"threshold":95,"threshold_metric_id":null,"treat_missing_data":"notBreaching","unit":null},"sensitive_values":{"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.cloudwatch.aws_cloudwatch_metric_alarm.paper_memory_high","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"paper_memory_high","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors paper ec2 memory utilization","alarm_name":"mcserver-paper-memory-high","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"mem_used_percent","metric_query":[],"namespace":"CWAgent","ok_actions":null,"period":300,"statistic":"Average","tags":{"Name":"mcserver-paper-memory-alarm"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-paper-memory-alarm","Project":"mcserver"},"threshold":85,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.cloudwatch.aws_cloudwatch_metric_alarm.paper_network_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"paper_network_monitoring","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_actions":null,"alarm_description":"Network connection monitoring for paper server","alarm_name":"mcserver-paper-network-monitoring","comparison_operator":"LessThanThreshold","datapoints_to_alarm":null,"evaluation_periods":1,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"tcp_established","metric_query":[],"namespace":"CWAgent","ok_actions":null,"period":600,"statistic":"Average","tags":{"Name":"mcserver-paper-network-monitoring"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-paper-network-monitoring","Project":"mcserver"},"threshold":1,"threshold_metric_id":null,"treat_missing_data":"notBreaching","unit":null},"sensitive_values":{"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.cloudwatch.aws_cloudwatch_metric_alarm.velocity_cpu_high","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"velocity_cpu_high","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors velocity ec2 cpu utilization","alarm_name":"mcserver-velocity-cpu-high","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"CPUUtilization","metric_query":[],"namespace":"AWS/EC2","ok_actions":null,"period":300,"statistic":"Average","tags":{"Name":"mcserver-velocity-cpu-alarm"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-velocity-cpu-alarm","Project":"mcserver"},"threshold":80,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.cloudwatch.aws_ssm_parameter.cloudwatch_agent_config","mode":"managed","type":"aws_ssm_parameter","name":"cloudwatch_agent_config","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allowed_pattern":null,"description":null,"name":"/aws/cloudwatch-agent/mcserver","overwrite":null,"tags":{"Name":"mcserver-cloudwatch-agent-config"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-cloudwatch-agent-config","Project":"mcserver"},"type":"String","value":"{\"agent\":{\"metrics_collection_interval\":300,\"run_as_user\":\"cwagent\"},\"logs\":{\"logs_collected\":{\"files\":{\"collect_list\":[{\"file_path\":\"/var/log/user-data.log\",\"log_group_name\":\"/aws/ec2/system\",\"log_stream_name\":\"{instance_id}/user-data\"},{\"file_path\":\"/mcserver/velocity/logs/latest.log\",\"log_group_name\":\"/minecraft/velocity\",\"log_stream_name\":\"{instance_id}/velocity\"},{\"file_path\":\"/mcserver/paper/logs/*.log\",\"log_group_name\":\"/minecraft/paper\",\"log_stream_name\":\"{instance_id}/paper\"}]}}},\"metrics\":{\"metrics_collected\":{\"cpu\":{\"measurement\":[\"cpu_usage_idle\",\"cpu_usage_user\",\"cpu_usage_system\"],\"metrics_collection_interval\":600,\"totalcpu\":true},\"disk\":{\"measurement\":[\"used_percent\"],\"metrics_collection_interval\":600,\"resources\":[\"/\",\"/mcserver\"]},\"mem\":{\"measurement\":[\"mem_used_percent\"],\"metrics_collection_interval\":600},\"netstat\":{\"measurement\":[\"tcp_established\"],\"metrics_collection_interval\":600}},\"namespace\":\"MinecraftServer\"}}","value_wo":null,"value_wo_version":null},"sensitive_values":{"tags":{},"tags_all":{},"value":true,"value_wo":true}}],"address":"module.cloudwatch"},{"resources":[{"address":"module.ebs.aws_ebs_volume.paper_ebs","mode":"managed","type":"aws_ebs_volume","name":"paper_ebs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"availability_zone":"ap-northeast-2a","final_snapshot":false,"multi_attach_enabled":null,"outpost_arn":null,"size":20,"tags":{"Name":"mcserver-paper-ebs"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-paper-ebs","Project":"mcserver"},"timeouts":null,"type":"gp3"},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.ebs.aws_ebs_volume.velocity_ebs","mode":"managed","type":"aws_ebs_volume","name":"velocity_ebs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"availability_zone":"ap-northeast-2a","final_snapshot":false,"multi_attach_enabled":null,"outpost_arn":null,"size":1,"tags":{"Name":"mcserver-velocity-ebs"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-velocity-ebs","Project":"mcserver"},"timeouts":null,"type":"gp3"},"sensitive_values":{"tags":{},"tags_all":{}}}],"address":"module.ebs"},{"resources":[{"address":"module.ec2.aws_eip.velocity_eip","mode":"managed","type":"aws_eip","name":"velocity_eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"address":null,"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"domain":"vpc","tags":{"Name":"mcserver-velocity-eip"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-velocity-eip","Project":"mcserver"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.ec2.aws_instance.paper_ec2","mode":"managed","type":"aws_instance","name":"paper_ec2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"credit_specification":[],"get_password_data":false,"hibernation":null,"iam_instance_profile":"mcserver-ec2-profile","instance_type":"r6g.medium","key_name":"mcserver","launch_template":[],"source_dest_check":true,"tags":{"Name":"mcserver-paper-ec2"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-paper-ec2","Project":"mcserver"},"timeouts":null,"user_data":"2c673cf6c85c062f818136b914e44b30734a5923","user_data_replace_on_change":false,"volume_tags":null},"sensitive_values":{"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[],"metadata_options":[],"network_interface":[],"private_dns_name_options":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}},{"address":"module.ec2.aws_instance.velocity_ec2","mode":"managed","type":"aws_instance","name":"velocity_ec2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"credit_specification":[],"get_password_data":false,"hibernation":null,"iam_instance_profile":"mcserver-ec2-profile","instance_type":"t4g.micro","key_name":"mcserver","launch_template":[],"source_dest_check":true,"tags":{"Name":"mcserver-velocity-ec2"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-velocity-ec2","Project":"mcserver"},"timeouts":null,"user_data":"fd402bb9eafcd361a474aef497807629bc7c87e8","user_data_replace_on_change":false,"volume_tags":null},"sensitive_values":{"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[],"metadata_options":[],"network_interface":[],"private_dns_name_options":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}},{"address":"module.ec2.aws_volume_attachment.paper_ebs_attachment","mode":"managed","type":"aws_volume_attachment","name":"paper_ebs_attachment","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"device_name":"/dev/xvdf","force_detach":null,"skip_destroy":null,"stop_instance_before_detaching":null,"timeouts":null},"sensitive_values":{}},{"address":"module.ec2.aws_volume_attachment.velocity_ebs_attachment","mode":"managed","type":"aws_volume_attachment","name":"velocity_ebs_attachment","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"device_name":"/dev/xvdf","force_detach":null,"skip_destroy":null,"stop_instance_before_detaching":null,"timeouts":null},"sensitive_values":{}},{"address":"module.ec2.data.aws_ami.ubuntu","mode":"data","type":"aws_ami","name":"ubuntu","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"executable_users":null,"filter":[{"name":"architecture","values":["arm64"]},{"name":"name","values":["ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-*"]},{"name":"virtualization-type","values":["hvm"]}],"include_deprecated":null,"most_recent":true,"name_regex":null,"owners":["099720109477"],"tags":{"Name":"mcserver-velocity"},"timeouts":null,"uefi_data":null},"sensitive_values":{"block_device_mappings":[],"filter":[{"values":[false]},{"values":[false]},{"values":[false]}],"owners":[false],"product_codes":[],"state_reason":{},"tags":{}}}],"address":"module.ec2"},{"resources":[{"address":"module.flow_logs.aws_flow_log.vpc_flow_log","mode":"managed","type":"aws_flow_log","name":"vpc_flow_log","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"deliver_cross_account_role":null,"destination_options":[],"eni_id":null,"log_destination_type":"cloud-watch-logs","max_aggregation_interval":600,"subnet_id":null,"tags":{"Name":"mcserver-vpc-flow-log"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-vpc-flow-log","Project":"mcserver"},"traffic_type":"ALL","transit_gateway_attachment_id":null,"transit_gateway_id":null},"sensitive_values":{"destination_options":[],"tags":{},"tags_all":{}}},{"address":"module.flow_logs.aws_iam_role.flow_log","mode":"managed","type":"aws_iam_role","name":"flow_log","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"vpc-flow-logs.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"mcserver-flow-log-role","path":"/","permissions_boundary":null,"tags":null,"tags_all":{"ManagedBy":"terraform","Project":"mcserver"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}},{"address":"module.flow_logs.aws_iam_role_policy.flow_log","mode":"managed","type":"aws_iam_role_policy","name":"flow_log","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"mcserver-flow-log-policy","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\",\"logs:DescribeLogGroups\",\"logs:DescribeLogStreams\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"},"sensitive_values":{}},{"address":"module.flow_logs.aws_s3_bucket.vpc_flow_logs","mode":"managed","type":"aws_s3_bucket","name":"vpc_flow_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"force_destroy":false,"tags":{"Environment":"production","Name":"mcserver-vpc-flow-logs","Purpose":"VPC Flow Logs Storage"},"tags_all":{"Environment":"production","ManagedBy":"terraform","Name":"mcserver-vpc-flow-logs","Project":"mcserver","Purpose":"VPC Flow Logs Storage"},"timeouts":null},"sensitive_values":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}},{"address":"module.flow_logs.aws_s3_bucket_policy.vpc_flow_logs_policy","mode":"managed","type":"aws_s3_bucket_policy","name":"vpc_flow_logs_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"sensitive_values":{}},{"address":"module.flow_logs.random_string.bucket_suffix","mode":"managed","type":"random_string","name":"bucket_suffix","provider_name":"registry.terraform.io/hashicorp/random","schema_version":2,"values":{"keepers":null,"length":8,"lower":true,"min_lower":0,"min_numeric":0,"min_special":0,"min_upper":0,"number":true,"numeric":true,"override_special":null,"special":false,"upper":false},"sensitive_values":{}}],"address":"module.flow_logs"},{"resources":[{"address":"module.iam.aws_iam_instance_profile.ec2_profile","mode":"managed","type":"aws_iam_instance_profile","name":"ec2_profile","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"mcserver-ec2-profile","path":"/","role":"mcserver-ec2-role","tags":null,"tags_all":{"ManagedBy":"terraform","Project":"mcserver"}},"sensitive_values":{"tags_all":{}}},{"address":"module.iam.aws_iam_role.ec2_role","mode":"managed","type":"aws_iam_role","name":"ec2_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"mcserver-ec2-role","path":"/","permissions_boundary":null,"tags":null,"tags_all":{"ManagedBy":"terraform","Project":"mcserver"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.cloudwatch_agent_server_policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"cloudwatch_agent_server_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/CloudWatchAgentServerPolicy","role":"mcserver-ec2-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.ssm_managed_instance_core","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ssm_managed_instance_core","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore","role":"mcserver-ec2-role"},"sensitive_values":{}}],"address":"module.iam"},{"resources":[{"address":"module.security.aws_security_group.mcserver_paper_sg","mode":"managed","type":"aws_security_group","name":"mcserver_paper_sg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Security group for Paper Minecraft servers","name":"mcserver-paper-sg","revoke_rules_on_delete":false,"tags":{"Name":"mcserver-paper-sg"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-paper-sg","Project":"mcserver"},"timeouts":null},"sensitive_values":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}},{"address":"module.security.aws_security_group.mcserver_velocity_sg","mode":"managed","type":"aws_security_group","name":"mcserver_velocity_sg","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Security group for Velocity server","name":"mcserver-velocity-sg","revoke_rules_on_delete":false,"tags":{"Name":"mcserver-velocity-sg"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-velocity-sg","Project":"mcserver"},"timeouts":null},"sensitive_values":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}},{"address":"module.security.aws_vpc_security_group_egress_rule.paper_egress","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"paper_egress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":"All outbound traffic","from_port":null,"ip_protocol":"-1","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{"ManagedBy":"terraform","Project":"mcserver"},"to_port":null},"sensitive_values":{"tags_all":{}}},{"address":"module.security.aws_vpc_security_group_egress_rule.velocity_egress","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"velocity_egress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":"All outbound traffic","from_port":null,"ip_protocol":"-1","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{"ManagedBy":"terraform","Project":"mcserver"},"to_port":null},"sensitive_values":{"tags_all":{}}},{"address":"module.security.aws_vpc_security_group_ingress_rule.paper_ingress","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"paper_ingress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"Connections from Velocity","from_port":25501,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"ManagedBy":"terraform","Project":"mcserver"},"to_port":25503},"sensitive_values":{"tags_all":{}}},{"address":"module.security.aws_vpc_security_group_ingress_rule.paper_ssh_ingress","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"paper_ssh_ingress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"SSH access from Velocity server","from_port":22,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"ManagedBy":"terraform","Project":"mcserver"},"to_port":22},"sensitive_values":{"tags_all":{}}},{"address":"module.security.aws_vpc_security_group_ingress_rule.velocity_ingress","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"velocity_ingress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":"Minecraft client connections","from_port":25565,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{"ManagedBy":"terraform","Project":"mcserver"},"to_port":25565},"sensitive_values":{"tags_all":{}}},{"address":"module.security.aws_vpc_security_group_ingress_rule.velocity_ssh_ingress","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"velocity_ssh_ingress","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":"SSH access from anywhere","from_port":22,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{"ManagedBy":"terraform","Project":"mcserver"},"to_port":22},"sensitive_values":{"tags_all":{}}}],"address":"module.security"},{"resources":[{"address":"module.sns.aws_sns_topic.alerts","mode":"managed","type":"aws_sns_topic","name":"alerts","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"archive_policy":null,"content_based_deduplication":false,"delivery_policy":null,"display_name":null,"fifo_topic":false,"firehose_failure_feedback_role_arn":null,"firehose_success_feedback_role_arn":null,"firehose_success_feedback_sample_rate":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"kms_master_key_id":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"mcserver-monitoring-alerts","sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":{"Name":"mcserver-alerts"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-alerts","Project":"mcserver"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.sns.aws_sns_topic_subscription.email_alerts[0]","mode":"managed","type":"aws_sns_topic_subscription","name":"email_alerts","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"confirmation_timeout_in_minutes":1,"delivery_policy":null,"endpoint":"migonyoung01@gmail.com","endpoint_auto_confirms":false,"filter_policy":null,"protocol":"email","raw_message_delivery":false,"redrive_policy":null,"replay_policy":null,"subscription_role_arn":null},"sensitive_values":{}}],"address":"module.sns"},{"resources":[{"address":"module.vpc.aws_internet_gateway.mcserver_igw","mode":"managed","type":"aws_internet_gateway","name":"mcserver_igw","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"tags":{"Name":"mcserver-igw"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-igw","Project":"mcserver"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.aws_route_table.private","mode":"managed","type":"aws_route_table","name":"private","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":null,"tags_all":{"ManagedBy":"terraform","Project":"mcserver"},"timeouts":null},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags_all":{}}},{"address":"module.vpc.aws_route_table.public","mode":"managed","type":"aws_route_table","name":"public","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":null,"tags_all":{"ManagedBy":"terraform","Project":"mcserver"},"timeouts":null},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags_all":{}}},{"address":"module.vpc.aws_route_table_association.private","mode":"managed","type":"aws_route_table_association","name":"private","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"timeouts":null},"sensitive_values":{}},{"address":"module.vpc.aws_route_table_association.public","mode":"managed","type":"aws_route_table_association","name":"public","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"timeouts":null},"sensitive_values":{}},{"address":"module.vpc.aws_subnet.private","mode":"managed","type":"aws_subnet","name":"private","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-2a","cidr_block":"10.0.11.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"mcserver-private-subnet"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-private-subnet","Project":"mcserver"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.aws_subnet.public","mode":"managed","type":"aws_subnet","name":"public","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-2a","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"mcserver-public-subnet"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-public-subnet","Project":"mcserver"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.aws_vpc.main","mode":"managed","type":"aws_vpc","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.0.0.0/16","enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":{"Name":"mcserver-vpc"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-vpc","Project":"mcserver"}},"sensitive_values":{"tags":{},"tags_all":{}}}],"address":"module.vpc"}]}},"resource_changes":[{"address":"module.cloudwatch.aws_cloudwatch_log_group.paper_logs","module_address":"module.cloudwatch","mode":"managed","type":"aws_cloudwatch_log_group","name":"paper_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"kms_key_id":null,"name":"/minecraft/paper","retention_in_days":3,"skip_destroy":false,"tags":{"Environment":"production","Name":"mcserver-paper-logs"},"tags_all":{"Environment":"production","ManagedBy":"terraform","Name":"mcserver-paper-logs","Project":"mcserver"}},"after_unknown":{"arn":true,"id":true,"log_group_class":true,"name_prefix":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.cloudwatch.aws_cloudwatch_log_group.system_logs","module_address":"module.cloudwatch","mode":"managed","type":"aws_cloudwatch_log_group","name":"system_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"kms_key_id":null,"name":"/aws/ec2/system","retention_in_days":7,"skip_destroy":false,"tags":{"Environment":"production","Name":"mcserver-system-logs"},"tags_all":{"Environment":"production","ManagedBy":"terraform","Name":"mcserver-system-logs","Project":"mcserver"}},"after_unknown":{"arn":true,"id":true,"log_group_class":true,"name_prefix":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.cloudwatch.aws_cloudwatch_log_group.velocity_logs","module_address":"module.cloudwatch","mode":"managed","type":"aws_cloudwatch_log_group","name":"velocity_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"kms_key_id":null,"name":"/minecraft/velocity","retention_in_days":3,"skip_destroy":false,"tags":{"Environment":"production","Name":"mcserver-velocity-logs"},"tags_all":{"Environment":"production","ManagedBy":"terraform","Name":"mcserver-velocity-logs","Project":"mcserver"}},"after_unknown":{"arn":true,"id":true,"log_group_class":true,"name_prefix":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.cloudwatch.aws_cloudwatch_metric_alarm.paper_cpu_high","module_address":"module.cloudwatch","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"paper_cpu_high","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors paper ec2 cpu utilization","alarm_name":"mcserver-paper-cpu-high","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"CPUUtilization","metric_query":[],"namespace":"AWS/EC2","ok_actions":null,"period":300,"statistic":"Average","tags":{"Name":"mcserver-paper-cpu-alarm"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-paper-cpu-alarm","Project":"mcserver"},"threshold":80,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"dimensions":true,"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.cloudwatch.aws_cloudwatch_metric_alarm.paper_disk_monitoring","module_address":"module.cloudwatch","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"paper_disk_monitoring","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_actions":null,"alarm_description":"Disk usage monitoring for paper server","alarm_name":"mcserver-paper-disk-monitoring","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"evaluation_periods":1,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"disk_used_percent","metric_query":[],"namespace":"CWAgent","ok_actions":null,"period":600,"statistic":"Average","tags":{"Name":"mcserver-paper-disk-monitoring"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-paper-disk-monitoring","Project":"mcserver"},"threshold":95,"threshold_metric_id":null,"treat_missing_data":"notBreaching","unit":null},"after_unknown":{"arn":true,"dimensions":true,"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.cloudwatch.aws_cloudwatch_metric_alarm.paper_memory_high","module_address":"module.cloudwatch","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"paper_memory_high","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors paper ec2 memory utilization","alarm_name":"mcserver-paper-memory-high","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"mem_used_percent","metric_query":[],"namespace":"CWAgent","ok_actions":null,"period":300,"statistic":"Average","tags":{"Name":"mcserver-paper-memory-alarm"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-paper-memory-alarm","Project":"mcserver"},"threshold":85,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"dimensions":true,"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.cloudwatch.aws_cloudwatch_metric_alarm.paper_network_monitoring","module_address":"module.cloudwatch","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"paper_network_monitoring","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_actions":null,"alarm_description":"Network connection monitoring for paper server","alarm_name":"mcserver-paper-network-monitoring","comparison_operator":"LessThanThreshold","datapoints_to_alarm":null,"evaluation_periods":1,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"tcp_established","metric_query":[],"namespace":"CWAgent","ok_actions":null,"period":600,"statistic":"Average","tags":{"Name":"mcserver-paper-network-monitoring"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-paper-network-monitoring","Project":"mcserver"},"threshold":1,"threshold_metric_id":null,"treat_missing_data":"notBreaching","unit":null},"after_unknown":{"arn":true,"dimensions":true,"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.cloudwatch.aws_cloudwatch_metric_alarm.velocity_cpu_high","module_address":"module.cloudwatch","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"velocity_cpu_high","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors velocity ec2 cpu utilization","alarm_name":"mcserver-velocity-cpu-high","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"CPUUtilization","metric_query":[],"namespace":"AWS/EC2","ok_actions":null,"period":300,"statistic":"Average","tags":{"Name":"mcserver-velocity-cpu-alarm"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-velocity-cpu-alarm","Project":"mcserver"},"threshold":80,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"dimensions":true,"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.cloudwatch.aws_ssm_parameter.cloudwatch_agent_config","module_address":"module.cloudwatch","mode":"managed","type":"aws_ssm_parameter","name":"cloudwatch_agent_config","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"allowed_pattern":null,"description":null,"name":"/aws/cloudwatch-agent/mcserver","overwrite":null,"tags":{"Name":"mcserver-cloudwatch-agent-config"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-cloudwatch-agent-config","Project":"mcserver"},"type":"String","value":"{\"agent\":{\"metrics_collection_interval\":300,\"run_as_user\":\"cwagent\"},\"logs\":{\"logs_collected\":{\"files\":{\"collect_list\":[{\"file_path\":\"/var/log/user-data.log\",\"log_group_name\":\"/aws/ec2/system\",\"log_stream_name\":\"{instance_id}/user-data\"},{\"file_path\":\"/mcserver/velocity/logs/latest.log\",\"log_group_name\":\"/minecraft/velocity\",\"log_stream_name\":\"{instance_id}/velocity\"},{\"file_path\":\"/mcserver/paper/logs/*.log\",\"log_group_name\":\"/minecraft/paper\",\"log_stream_name\":\"{instance_id}/paper\"}]}}},\"metrics\":{\"metrics_collected\":{\"cpu\":{\"measurement\":[\"cpu_usage_idle\",\"cpu_usage_user\",\"cpu_usage_system\"],\"metrics_collection_interval\":600,\"totalcpu\":true},\"disk\":{\"measurement\":[\"used_percent\"],\"metrics_collection_interval\":600,\"resources\":[\"/\",\"/mcserver\"]},\"mem\":{\"measurement\":[\"mem_used_percent\"],\"metrics_collection_interval\":600},\"netstat\":{\"measurement\":[\"tcp_established\"],\"metrics_collection_interval\":600}},\"namespace\":\"MinecraftServer\"}}","value_wo":null,"value_wo_version":null},"after_unknown":{"arn":true,"data_type":true,"has_value_wo":true,"id":true,"insecure_value":true,"key_id":true,"tags":{},"tags_all":{},"tier":true,"version":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{},"value":true,"value_wo":true}}},{"address":"module.ebs.aws_ebs_volume.paper_ebs","module_address":"module.ebs","mode":"managed","type":"aws_ebs_volume","name":"paper_ebs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"availability_zone":"ap-northeast-2a","final_snapshot":false,"multi_attach_enabled":null,"outpost_arn":null,"size":20,"tags":{"Name":"mcserver-paper-ebs"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-paper-ebs","Project":"mcserver"},"timeouts":null,"type":"gp3"},"after_unknown":{"arn":true,"create_time":true,"encrypted":true,"id":true,"iops":true,"kms_key_id":true,"snapshot_id":true,"tags":{},"tags_all":{},"throughput":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.ebs.aws_ebs_volume.velocity_ebs","module_address":"module.ebs","mode":"managed","type":"aws_ebs_volume","name":"velocity_ebs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"availability_zone":"ap-northeast-2a","final_snapshot":false,"multi_attach_enabled":null,"outpost_arn":null,"size":1,"tags":{"Name":"mcserver-velocity-ebs"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-velocity-ebs","Project":"mcserver"},"timeouts":null,"type":"gp3"},"after_unknown":{"arn":true,"create_time":true,"encrypted":true,"id":true,"iops":true,"kms_key_id":true,"snapshot_id":true,"tags":{},"tags_all":{},"throughput":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.ec2.data.aws_ami.ubuntu","module_address":"module.ec2","mode":"data","type":"aws_ami","name":"ubuntu","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["read"],"before":null,"after":{"executable_users":null,"filter":[{"name":"architecture","values":["arm64"]},{"name":"name","values":["ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-*"]},{"name":"virtualization-type","values":["hvm"]}],"include_deprecated":null,"most_recent":true,"name_regex":null,"owners":["099720109477"],"tags":{"Name":"mcserver-velocity"},"timeouts":null,"uefi_data":null},"after_unknown":{"architecture":true,"arn":true,"block_device_mappings":true,"boot_mode":true,"creation_date":true,"deprecation_time":true,"description":true,"ena_support":true,"filter":[{"values":[false]},{"values":[false]},{"values":[false]}],"hypervisor":true,"id":true,"image_id":true,"image_location":true,"image_owner_alias":true,"image_type":true,"imds_support":true,"kernel_id":true,"last_launched_time":true,"name":true,"owner_id":true,"owners":[false],"platform":true,"platform_details":true,"product_codes":true,"public":true,"ramdisk_id":true,"root_device_name":true,"root_device_type":true,"root_snapshot_id":true,"sriov_net_support":true,"state":true,"state_reason":true,"tags":{},"tpm_support":true,"usage_operation":true,"virtualization_type":true},"before_sensitive":false,"after_sensitive":{"block_device_mappings":[],"filter":[{"values":[false]},{"values":[false]},{"values":[false]}],"owners":[false],"product_codes":[],"state_reason":{},"tags":{}}},"action_reason":"read_because_dependency_pending"},{"address":"module.ec2.aws_eip.velocity_eip","module_address":"module.ec2","mode":"managed","type":"aws_eip","name":"velocity_eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"address":null,"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"domain":"vpc","tags":{"Name":"mcserver-velocity-eip"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-velocity-eip","Project":"mcserver"},"timeouts":null},"after_unknown":{"allocation_id":true,"arn":true,"association_id":true,"carrier_ip":true,"customer_owned_ip":true,"id":true,"instance":true,"ipam_pool_id":true,"network_border_group":true,"network_interface":true,"private_dns":true,"private_ip":true,"ptr_record":true,"public_dns":true,"public_ip":true,"public_ipv4_pool":true,"tags":{},"tags_all":{},"vpc":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.ec2.aws_instance.paper_ec2","module_address":"module.ec2","mode":"managed","type":"aws_instance","name":"paper_ec2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"credit_specification":[],"get_password_data":false,"hibernation":null,"iam_instance_profile":"mcserver-ec2-profile","instance_type":"r6g.medium","key_name":"mcserver","launch_template":[],"source_dest_check":true,"tags":{"Name":"mcserver-paper-ec2"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-paper-ec2","Project":"mcserver"},"timeouts":null,"user_data":"2c673cf6c85c062f818136b914e44b30734a5923","user_data_replace_on_change":false,"volume_tags":null},"after_unknown":{"ami":true,"arn":true,"associate_public_ip_address":true,"availability_zone":true,"capacity_reservation_specification":true,"cpu_core_count":true,"cpu_options":true,"cpu_threads_per_core":true,"credit_specification":[],"disable_api_stop":true,"disable_api_termination":true,"ebs_block_device":true,"ebs_optimized":true,"enable_primary_ipv6":true,"enclave_options":true,"ephemeral_block_device":true,"host_id":true,"host_resource_group_arn":true,"id":true,"instance_initiated_shutdown_behavior":true,"instance_lifecycle":true,"instance_market_options":true,"instance_state":true,"ipv6_address_count":true,"ipv6_addresses":true,"launch_template":[],"maintenance_options":true,"metadata_options":true,"monitoring":true,"network_interface":true,"outpost_arn":true,"password_data":true,"placement_group":true,"placement_partition_number":true,"primary_network_interface_id":true,"private_dns":true,"private_dns_name_options":true,"private_ip":true,"public_dns":true,"public_ip":true,"root_block_device":true,"secondary_private_ips":true,"security_groups":true,"spot_instance_request_id":true,"subnet_id":true,"tags":{},"tags_all":{},"tenancy":true,"user_data_base64":true,"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[],"metadata_options":[],"network_interface":[],"private_dns_name_options":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}},{"address":"module.ec2.aws_instance.velocity_ec2","module_address":"module.ec2","mode":"managed","type":"aws_instance","name":"velocity_ec2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"credit_specification":[],"get_password_data":false,"hibernation":null,"iam_instance_profile":"mcserver-ec2-profile","instance_type":"t4g.micro","key_name":"mcserver","launch_template":[],"source_dest_check":true,"tags":{"Name":"mcserver-velocity-ec2"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-velocity-ec2","Project":"mcserver"},"timeouts":null,"user_data":"fd402bb9eafcd361a474aef497807629bc7c87e8","user_data_replace_on_change":false,"volume_tags":null},"after_unknown":{"ami":true,"arn":true,"associate_public_ip_address":true,"availability_zone":true,"capacity_reservation_specification":true,"cpu_core_count":true,"cpu_options":true,"cpu_threads_per_core":true,"credit_specification":[],"disable_api_stop":true,"disable_api_termination":true,"ebs_block_device":true,"ebs_optimized":true,"enable_primary_ipv6":true,"enclave_options":true,"ephemeral_block_device":true,"host_id":true,"host_resource_group_arn":true,"id":true,"instance_initiated_shutdown_behavior":true,"instance_lifecycle":true,"instance_market_options":true,"instance_state":true,"ipv6_address_count":true,"ipv6_addresses":true,"launch_template":[],"maintenance_options":true,"metadata_options":true,"monitoring":true,"network_interface":true,"outpost_arn":true,"password_data":true,"placement_group":true,"placement_partition_number":true,"primary_network_interface_id":true,"private_dns":true,"private_dns_name_options":true,"private_ip":true,"public_dns":true,"public_ip":true,"root_block_device":true,"secondary_private_ips":true,"security_groups":true,"spot_instance_request_id":true,"subnet_id":true,"tags":{},"tags_all":{},"tenancy":true,"user_data_base64":true,"vpc_security_group_ids":true},"before_sensitive":false,"after_sensitive":{"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"ebs_block_device":[],"enclave_options":[],"ephemeral_block_device":[],"instance_market_options":[],"ipv6_addresses":[],"launch_template":[],"maintenance_options":[],"metadata_options":[],"network_interface":[],"private_dns_name_options":[],"root_block_device":[],"secondary_private_ips":[],"security_groups":[],"tags":{},"tags_all":{},"vpc_security_group_ids":[]}}},{"address":"module.ec2.aws_volume_attachment.paper_ebs_attachment","module_address":"module.ec2","mode":"managed","type":"aws_volume_attachment","name":"paper_ebs_attachment","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"device_name":"/dev/xvdf","force_detach":null,"skip_destroy":null,"stop_instance_before_detaching":null,"timeouts":null},"after_unknown":{"id":true,"instance_id":true,"volume_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.ec2.aws_volume_attachment.velocity_ebs_attachment","module_address":"module.ec2","mode":"managed","type":"aws_volume_attachment","name":"velocity_ebs_attachment","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"device_name":"/dev/xvdf","force_detach":null,"skip_destroy":null,"stop_instance_before_detaching":null,"timeouts":null},"after_unknown":{"id":true,"instance_id":true,"volume_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.flow_logs.aws_flow_log.vpc_flow_log","module_address":"module.flow_logs","mode":"managed","type":"aws_flow_log","name":"vpc_flow_log","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"deliver_cross_account_role":null,"destination_options":[],"eni_id":null,"log_destination_type":"cloud-watch-logs","max_aggregation_interval":600,"subnet_id":null,"tags":{"Name":"mcserver-vpc-flow-log"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-vpc-flow-log","Project":"mcserver"},"traffic_type":"ALL","transit_gateway_attachment_id":null,"transit_gateway_id":null},"after_unknown":{"arn":true,"destination_options":[],"iam_role_arn":true,"id":true,"log_destination":true,"log_format":true,"log_group_name":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"destination_options":[],"tags":{},"tags_all":{}}}},{"address":"module.flow_logs.aws_iam_role.flow_log","module_address":"module.flow_logs","mode":"managed","type":"aws_iam_role","name":"flow_log","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"vpc-flow-logs.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"mcserver-flow-log-role","path":"/","permissions_boundary":null,"tags":null,"tags_all":{"ManagedBy":"terraform","Project":"mcserver"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}}},{"address":"module.flow_logs.aws_iam_role_policy.flow_log","module_address":"module.flow_logs","mode":"managed","type":"aws_iam_role_policy","name":"flow_log","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"mcserver-flow-log-policy","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\",\"logs:DescribeLogGroups\",\"logs:DescribeLogStreams\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"},"after_unknown":{"id":true,"name_prefix":true,"role":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.flow_logs.aws_s3_bucket.vpc_flow_logs","module_address":"module.flow_logs","mode":"managed","type":"aws_s3_bucket","name":"vpc_flow_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"force_destroy":false,"tags":{"Environment":"production","Name":"mcserver-vpc-flow-logs","Purpose":"VPC Flow Logs Storage"},"tags_all":{"Environment":"production","ManagedBy":"terraform","Name":"mcserver-vpc-flow-logs","Project":"mcserver","Purpose":"VPC Flow Logs Storage"},"timeouts":null},"after_unknown":{"acceleration_status":true,"acl":true,"arn":true,"bucket":true,"bucket_domain_name":true,"bucket_prefix":true,"bucket_regional_domain_name":true,"cors_rule":true,"grant":true,"hosted_zone_id":true,"id":true,"lifecycle_rule":true,"logging":true,"object_lock_configuration":true,"object_lock_enabled":true,"policy":true,"region":true,"replication_configuration":true,"request_payer":true,"server_side_encryption_configuration":true,"tags":{},"tags_all":{},"versioning":true,"website":true,"website_domain":true,"website_endpoint":true},"before_sensitive":false,"after_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}}},{"address":"module.flow_logs.aws_s3_bucket_policy.vpc_flow_logs_policy","module_address":"module.flow_logs","mode":"managed","type":"aws_s3_bucket_policy","name":"vpc_flow_logs_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{},"after_unknown":{"bucket":true,"id":true,"policy":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.flow_logs.random_string.bucket_suffix","module_address":"module.flow_logs","mode":"managed","type":"random_string","name":"bucket_suffix","provider_name":"registry.terraform.io/hashicorp/random","change":{"actions":["create"],"before":null,"after":{"keepers":null,"length":8,"lower":true,"min_lower":0,"min_numeric":0,"min_special":0,"min_upper":0,"number":true,"numeric":true,"override_special":null,"special":false,"upper":false},"after_unknown":{"id":true,"result":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_instance_profile.ec2_profile","module_address":"module.iam","mode":"managed","type":"aws_iam_instance_profile","name":"ec2_profile","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"mcserver-ec2-profile","path":"/","role":"mcserver-ec2-role","tags":null,"tags_all":{"ManagedBy":"terraform","Project":"mcserver"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"name_prefix":true,"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.iam.aws_iam_role.ec2_role","module_address":"module.iam","mode":"managed","type":"aws_iam_role","name":"ec2_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"mcserver-ec2-role","path":"/","permissions_boundary":null,"tags":null,"tags_all":{"ManagedBy":"terraform","Project":"mcserver"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags_all":{}}}},{"address":"module.iam.aws_iam_role_policy_attachment.cloudwatch_agent_server_policy","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"cloudwatch_agent_server_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/CloudWatchAgentServerPolicy","role":"mcserver-ec2-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.ssm_managed_instance_core","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ssm_managed_instance_core","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore","role":"mcserver-ec2-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.security.aws_security_group.mcserver_paper_sg","module_address":"module.security","mode":"managed","type":"aws_security_group","name":"mcserver_paper_sg","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Security group for Paper Minecraft servers","name":"mcserver-paper-sg","revoke_rules_on_delete":false,"tags":{"Name":"mcserver-paper-sg"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-paper-sg","Project":"mcserver"},"timeouts":null},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}}},{"address":"module.security.aws_security_group.mcserver_velocity_sg","module_address":"module.security","mode":"managed","type":"aws_security_group","name":"mcserver_velocity_sg","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Security group for Velocity server","name":"mcserver-velocity-sg","revoke_rules_on_delete":false,"tags":{"Name":"mcserver-velocity-sg"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-velocity-sg","Project":"mcserver"},"timeouts":null},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}}},{"address":"module.security.aws_vpc_security_group_egress_rule.paper_egress","module_address":"module.security","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"paper_egress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":"All outbound traffic","from_port":null,"ip_protocol":"-1","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{"ManagedBy":"terraform","Project":"mcserver"},"to_port":null},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.security.aws_vpc_security_group_egress_rule.velocity_egress","module_address":"module.security","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"velocity_egress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":"All outbound traffic","from_port":null,"ip_protocol":"-1","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{"ManagedBy":"terraform","Project":"mcserver"},"to_port":null},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.security.aws_vpc_security_group_ingress_rule.paper_ingress","module_address":"module.security","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"paper_ingress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"Connections from Velocity","from_port":25501,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"ManagedBy":"terraform","Project":"mcserver"},"to_port":25503},"after_unknown":{"arn":true,"id":true,"referenced_security_group_id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.security.aws_vpc_security_group_ingress_rule.paper_ssh_ingress","module_address":"module.security","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"paper_ssh_ingress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"SSH access from Velocity server","from_port":22,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"ManagedBy":"terraform","Project":"mcserver"},"to_port":22},"after_unknown":{"arn":true,"id":true,"referenced_security_group_id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.security.aws_vpc_security_group_ingress_rule.velocity_ingress","module_address":"module.security","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"velocity_ingress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":"Minecraft client connections","from_port":25565,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{"ManagedBy":"terraform","Project":"mcserver"},"to_port":25565},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.security.aws_vpc_security_group_ingress_rule.velocity_ssh_ingress","module_address":"module.security","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"velocity_ssh_ingress","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":"SSH access from anywhere","from_port":22,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{"ManagedBy":"terraform","Project":"mcserver"},"to_port":22},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.sns.aws_sns_topic.alerts","module_address":"module.sns","mode":"managed","type":"aws_sns_topic","name":"alerts","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"archive_policy":null,"content_based_deduplication":false,"delivery_policy":null,"display_name":null,"fifo_topic":false,"firehose_failure_feedback_role_arn":null,"firehose_success_feedback_role_arn":null,"firehose_success_feedback_sample_rate":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"kms_master_key_id":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"mcserver-monitoring-alerts","sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":{"Name":"mcserver-alerts"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-alerts","Project":"mcserver"}},"after_unknown":{"arn":true,"beginning_archive_time":true,"fifo_throughput_scope":true,"id":true,"name_prefix":true,"owner":true,"policy":true,"signature_version":true,"tags":{},"tags_all":{},"tracing_config":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.sns.aws_sns_topic_subscription.email_alerts[0]","module_address":"module.sns","mode":"managed","type":"aws_sns_topic_subscription","name":"email_alerts","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"confirmation_timeout_in_minutes":1,"delivery_policy":null,"endpoint":"migonyoung01@gmail.com","endpoint_auto_confirms":false,"filter_policy":null,"protocol":"email","raw_message_delivery":false,"redrive_policy":null,"replay_policy":null,"subscription_role_arn":null},"after_unknown":{"arn":true,"confirmation_was_authenticated":true,"filter_policy_scope":true,"id":true,"owner_id":true,"pending_confirmation":true,"topic_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.vpc.aws_internet_gateway.mcserver_igw","module_address":"module.vpc","mode":"managed","type":"aws_internet_gateway","name":"mcserver_igw","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"tags":{"Name":"mcserver-igw"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-igw","Project":"mcserver"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_route_table.private","module_address":"module.vpc","mode":"managed","type":"aws_route_table","name":"private","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":null,"tags_all":{"ManagedBy":"terraform","Project":"mcserver"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"gateway_id":true}],"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags_all":{}}}},{"address":"module.vpc.aws_route_table.public","module_address":"module.vpc","mode":"managed","type":"aws_route_table","name":"public","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":null,"tags_all":{"ManagedBy":"terraform","Project":"mcserver"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"gateway_id":true}],"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags_all":{}}}},{"address":"module.vpc.aws_route_table_association.private","module_address":"module.vpc","mode":"managed","type":"aws_route_table_association","name":"private","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.vpc.aws_route_table_association.public","module_address":"module.vpc","mode":"managed","type":"aws_route_table_association","name":"public","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.vpc.aws_subnet.private","module_address":"module.vpc","mode":"managed","type":"aws_subnet","name":"private","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-2a","cidr_block":"10.0.11.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"mcserver-private-subnet"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-private-subnet","Project":"mcserver"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_subnet.public","module_address":"module.vpc","mode":"managed","type":"aws_subnet","name":"public","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"ap-northeast-2a","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":true,"outpost_arn":null,"tags":{"Name":"mcserver-public-subnet"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-public-subnet","Project":"mcserver"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_vpc.main","module_address":"module.vpc","mode":"managed","type":"aws_vpc","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.0.0.0/16","enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":{"Name":"mcserver-vpc"},"tags_all":{"ManagedBy":"terraform","Name":"mcserver-vpc","Project":"mcserver"}},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_dns_hostnames":true,"enable_network_address_usage_metrics":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_network_border_group":true,"main_route_table_id":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}}],"output_changes":{"cloudwatch_agent_config_parameter":{"actions":["create"],"before":null,"after":"/aws/cloudwatch-agent/mcserver","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"cloudwatch_alarm_names":{"actions":["create"],"before":null,"after":{"paper_cpu_high":"mcserver-paper-cpu-high","paper_disk_monitoring":"mcserver-paper-disk-monitoring","paper_memory_high":"mcserver-paper-memory-high","paper_network_monitoring":"mcserver-paper-network-monitoring","velocity_cpu_high":"mcserver-velocity-cpu-high"},"after_unknown":false,"before_sensitive":false,"after_sensitive":false},"cloudwatch_log_groups":{"actions":["create"],"before":null,"after":{"paper_logs":"/minecraft/paper","system_logs":"/aws/ec2/system","velocity_logs":"/minecraft/velocity"},"after_unknown":false,"before_sensitive":false,"after_sensitive":false},"ec2_instances_info":{"actions":["create"],"before":null,"after":{"paper":{"type":"r6g.medium"},"velocity":{"type":"t4g.micro"}},"after_unknown":{"paper":{"id":true,"private_ip":true},"velocity":{"id":true,"private_ip":true,"public_ip":true}},"before_sensitive":false,"after_sensitive":false},"ec2_instances_summary":{"actions":["create"],"before":null,"after":{"paper":{"type":"r6g.medium"},"velocity":{"type":"t4g.micro"}},"after_unknown":{"paper":{"id":true,"private_ip":true},"velocity":{"id":true,"private_ip":true,"public_ip":true}},"before_sensitive":false,"after_sensitive":false},"iam_instance_profile_name":{"actions":["create"],"before":null,"after":"mcserver-ec2-profile","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"iam_role_arn":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"monitoring_info":{"actions":["create"],"before":null,"after":{"cloudwatch_agent_config":"/aws/cloudwatch-agent/mcserver","cloudwatch_alarms":{"paper_cpu_high":"mcserver-paper-cpu-high","paper_disk_monitoring":"mcserver-paper-disk-monitoring","paper_memory_high":"mcserver-paper-memory-high","paper_network_monitoring":"mcserver-paper-network-monitoring","velocity_cpu_high":"mcserver-velocity-cpu-high"},"cloudwatch_log_groups":{"paper_logs":"/minecraft/paper","system_logs":"/aws/ec2/system","velocity_logs":"/minecraft/velocity"}},"after_unknown":{"cloudwatch_alarms":{},"cloudwatch_log_groups":{},"sns_topic_arn":true,"vpc_flow_logs_bucket":true},"before_sensitive":false,"after_sensitive":false},"paper_ebs_volume_id":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"paper_ec2_info":{"actions":["create"],"before":null,"after":{"type":"r6g.medium"},"after_unknown":{"id":true,"private_ip":true},"before_sensitive":false,"after_sensitive":false},"security_groups_info":{"actions":["create"],"before":null,"after":{"paper":{"name":"mcserver-paper-sg"},"velocity":{"name":"mcserver-velocity-sg"}},"after_unknown":{"paper":{"arn":true,"id":true},"velocity":{"arn":true,"id":true}},"before_sensitive":false,"after_sensitive":false},"sns_topic_arn":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"sns_topic_name":{"actions":["create"],"before":null,"after":"mcserver-monitoring-alerts","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"velocity_ebs_volume_id":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"velocity_ec2_info":{"actions":["create"],"before":null,"after":{"type":"t4g.micro"},"after_unknown":{"id":true,"private_ip":true,"public_ip":true},"before_sensitive":false,"after_sensitive":false},"velocity_ec2_public_ip":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"vpc_cidr_block":{"actions":["create"],"before":null,"after":"10.0.0.0/16","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"vpc_flow_logs_s3_bucket":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"vpc_flow_logs_s3_bucket_arn":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"vpc_id":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"1.0","terraform_version":"1.11.4","values":{"outputs":{"cloudwatch_agent_config_parameter":{"sensitive":false,"value":"/aws/cloudwatch-agent/mcserver","type":"string"},"cloudwatch_alarm_names":{"sensitive":false,"value":{"paper_cpu_high":"mcserver-paper-cpu-high","paper_disk_monitoring":"mcserver-paper-disk-monitoring","paper_memory_high":"mcserver-paper-memory-high","paper_network_monitoring":"mcserver-paper-network-monitoring","velocity_cpu_high":"mcserver-velocity-cpu-high"},"type":["object",{"paper_cpu_high":"string","paper_disk_monitoring":"string","paper_memory_high":"string","paper_network_monitoring":"string","velocity_cpu_high":"string"}]},"cloudwatch_log_groups":{"sensitive":false,"value":{"paper_logs":"/minecraft/paper","system_logs":"/aws/ec2/system","velocity_logs":"/minecraft/velocity"},"type":["object",{"paper_logs":"string","system_logs":"string","velocity_logs":"string"}]},"iam_instance_profile_name":{"sensitive":false,"value":"mcserver-ec2-profile","type":"string"},"sns_topic_name":{"sensitive":false,"value":"mcserver-monitoring-alerts","type":"string"},"vpc_cidr_block":{"sensitive":false,"value":"10.0.0.0/16","type":"string"}},"root_module":{}}},"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"~\u003e 5.0","expressions":{"default_tags":[{"tags":{"references":["var.project_name"]}}],"region":{"references":["var.aws_region"]}}},"module.flow_logs:random":{"name":"random","full_name":"registry.terraform.io/hashicorp/random","module_address":"module.flow_logs"}},"root_module":{"outputs":{"cloudwatch_agent_config_parameter":{"expression":{"references":["module.cloudwatch.cloudwatch_agent_config_parameter","module.cloudwatch"]},"description":"CloudWatch Agent 설정 SSM Parameter"},"cloudwatch_alarm_names":{"expression":{"references":["module.cloudwatch.alarm_names","module.cloudwatch"]},"description":"CloudWatch 알람 이름들"},"cloudwatch_log_groups":{"expression":{"references":["module.cloudwatch.log_groups","module.cloudwatch"]},"description":"CloudWatch 로그 그룹들"},"ec2_instances_info":{"expression":{"references":["module.ec2.ec2_instances_info","module.ec2"]},"description":"EC2 인스턴스들의 상세 정보"},"ec2_instances_summary":{"expression":{"references":["module.ec2.ec2_instances_info","module.ec2"]},"description":"모든 EC2 인스턴스 요약 정보"},"iam_instance_profile_name":{"expression":{"references":["module.iam.ec2_instance_profile_name","module.iam"]},"description":"EC2 Instance Profile 이름"},"iam_role_arn":{"expression":{"references":["module.iam.ec2_role_arn","module.iam"]},"description":"EC2 IAM Role ARN"},"monitoring_info":{"expression":{"references":["module.flow_logs.s3_bucket_name","module.flow_logs","module.cloudwatch.log_groups","module.cloudwatch","module.sns.sns_topic_arn","module.sns","module.cloudwatch.cloudwatch_agent_config_parameter","module.cloudwatch","module.cloudwatch.alarm_names","module.cloudwatch"]},"description":"모니터링 시스템 전체 정보"},"paper_ebs_volume_id":{"expression":{"references":["module.ebs.paper_ebs_volume_id","module.ebs"]},"description":"Paper 서버용 EBS 볼륨 ID"},"paper_ec2_info":{"expression":{"references":["module.ec2.ec2_instances_info.paper","module.ec2.ec2_instances_info","module.ec2"]},"description":"Paper Server EC2 상세 정보"},"security_groups_info":{"expression":{"references":["module.security.security_groups_info","module.security"]},"description":"생성된 보안 그룹들의 상세 정보"},"sns_topic_arn":{"expression":{"references":["module.sns.sns_topic_arn","module.sns"]},"description":"모니터링 알림용 SNS Topic ARN"},"sns_topic_name":{"expression":{"references":["module.sns.sns_topic_name","module.sns"]},"description":"SNS Topic 이름"},"velocity_ebs_volume_id":{"expression":{"references":["module.ebs.velocity_ebs_volume_id","module.ebs"]},"description":"Velocity 프록시용 EBS 볼륨 ID"},"velocity_ec2_info":{"expression":{"references":["module.ec2.ec2_instances_info.velocity","module.ec2.ec2_instances_info","module.ec2"]},"description":"Velocity Proxy EC2 상세 정보"},"velocity_ec2_public_ip":{"expression":{"references":["module.ec2.ec2_instances_info.velocity.public_ip","module.ec2.ec2_instances_info.velocity","module.ec2.ec2_instances_info","module.ec2"]},"description":"Velocity Proxy EC2 Public IP (접속용)"},"vpc_cidr_block":{"expression":{"references":["module.vpc.vpc_cidr_block","module.vpc"]},"description":"VPC CIDR 블록"},"vpc_flow_logs_s3_bucket":{"expression":{"references":["module.flow_logs.s3_bucket_name","module.flow_logs"]},"description":"VPC Flow Logs S3 버킷 이름"},"vpc_flow_logs_s3_bucket_arn":{"expression":{"references":["module.flow_logs.s3_bucket_arn","module.flow_logs"]},"description":"VPC Flow Logs S3 버킷 ARN"},"vpc_id":{"expression":{"references":["module.vpc.vpc_id","module.vpc"]},"description":"생성된 VPC ID"}},"module_calls":{"cloudwatch":{"source":"./modules/cloudwatch","expressions":{"paper_instance_id":{"references":["module.ec2.ec2_instances_info.paper.id","module.ec2.ec2_instances_info.paper","module.ec2.ec2_instances_info","module.ec2"]},"project_name":{"references":["var.project_name"]},"sns_topic_arn":{"references":["module.sns.sns_topic_arn","module.sns"]},"velocity_instance_id":{"references":["module.ec2.ec2_instances_info.velocity.id","module.ec2.ec2_instances_info.velocity","module.ec2.ec2_instances_info","module.ec2"]}},"module":{"outputs":{"alarm_names":{"expression":{"references":["aws_cloudwatch_metric_alarm.velocity_cpu_high.alarm_name","aws_cloudwatch_metric_alarm.velocity_cpu_high","aws_cloudwatch_metric_alarm.paper_cpu_high.alarm_name","aws_cloudwatch_metric_alarm.paper_cpu_high","aws_cloudwatch_metric_alarm.paper_memory_high.alarm_name","aws_cloudwatch_metric_alarm.paper_memory_high","aws_cloudwatch_metric_alarm.paper_disk_monitoring.alarm_name","aws_cloudwatch_metric_alarm.paper_disk_monitoring","aws_cloudwatch_metric_alarm.paper_network_monitoring.alarm_name","aws_cloudwatch_metric_alarm.paper_network_monitoring"]},"description":"CloudWatch alarm names"},"cloudwatch_agent_config_parameter":{"expression":{"references":["aws_ssm_parameter.cloudwatch_agent_config.name","aws_ssm_parameter.cloudwatch_agent_config"]},"description":"SSM Parameter name for CloudWatch Agent configuration"},"log_groups":{"expression":{"references":["aws_cloudwatch_log_group.velocity_logs.name","aws_cloudwatch_log_group.velocity_logs","aws_cloudwatch_log_group.paper_logs.name","aws_cloudwatch_log_group.paper_logs","aws_cloudwatch_log_group.system_logs.name","aws_cloudwatch_log_group.system_logs"]},"description":"CloudWatch log groups"}},"resources":[{"address":"aws_cloudwatch_log_group.paper_logs","mode":"managed","type":"aws_cloudwatch_log_group","name":"paper_logs","provider_config_key":"aws","expressions":{"name":{"constant_value":"/minecraft/paper"},"retention_in_days":{"constant_value":3},"tags":{"references":["var.project_name"]}},"schema_version":0},{"address":"aws_cloudwatch_log_group.system_logs","mode":"managed","type":"aws_cloudwatch_log_group","name":"system_logs","provider_config_key":"aws","expressions":{"name":{"constant_value":"/aws/ec2/system"},"retention_in_days":{"constant_value":7},"tags":{"references":["var.project_name"]}},"schema_version":0},{"address":"aws_cloudwatch_log_group.velocity_logs","mode":"managed","type":"aws_cloudwatch_log_group","name":"velocity_logs","provider_config_key":"aws","expressions":{"name":{"constant_value":"/minecraft/velocity"},"retention_in_days":{"constant_value":3},"tags":{"references":["var.project_name"]}},"schema_version":0},{"address":"aws_cloudwatch_metric_alarm.paper_cpu_high","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"paper_cpu_high","provider_config_key":"aws","expressions":{"alarm_actions":{"references":["var.sns_topic_arn"]},"alarm_description":{"constant_value":"This metric monitors paper ec2 cpu utilization"},"alarm_name":{"references":["var.project_name"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"dimensions":{"references":["var.paper_instance_id"]},"evaluation_periods":{"constant_value":"2"},"metric_name":{"constant_value":"CPUUtilization"},"namespace":{"constant_value":"AWS/EC2"},"period":{"constant_value":"300"},"statistic":{"constant_value":"Average"},"tags":{"references":["var.project_name"]},"threshold":{"constant_value":"80"}},"schema_version":1},{"address":"aws_cloudwatch_metric_alarm.paper_disk_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"paper_disk_monitoring","provider_config_key":"aws","expressions":{"alarm_description":{"constant_value":"Disk usage monitoring for paper server"},"alarm_name":{"references":["var.project_name"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"dimensions":{"references":["var.paper_instance_id"]},"evaluation_periods":{"constant_value":"1"},"metric_name":{"constant_value":"disk_used_percent"},"namespace":{"constant_value":"CWAgent"},"period":{"constant_value":"600"},"statistic":{"constant_value":"Average"},"tags":{"references":["var.project_name"]},"threshold":{"constant_value":"95"},"treat_missing_data":{"constant_value":"notBreaching"}},"schema_version":1},{"address":"aws_cloudwatch_metric_alarm.paper_memory_high","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"paper_memory_high","provider_config_key":"aws","expressions":{"alarm_actions":{"references":["var.sns_topic_arn"]},"alarm_description":{"constant_value":"This metric monitors paper ec2 memory utilization"},"alarm_name":{"references":["var.project_name"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"dimensions":{"references":["var.paper_instance_id"]},"evaluation_periods":{"constant_value":"2"},"metric_name":{"constant_value":"mem_used_percent"},"namespace":{"constant_value":"CWAgent"},"period":{"constant_value":"300"},"statistic":{"constant_value":"Average"},"tags":{"references":["var.project_name"]},"threshold":{"constant_value":"85"}},"schema_version":1},{"address":"aws_cloudwatch_metric_alarm.paper_network_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"paper_network_monitoring","provider_config_key":"aws","expressions":{"alarm_description":{"constant_value":"Network connection monitoring for paper server"},"alarm_name":{"references":["var.project_name"]},"comparison_operator":{"constant_value":"LessThanThreshold"},"dimensions":{"references":["var.paper_instance_id"]},"evaluation_periods":{"constant_value":"1"},"metric_name":{"constant_value":"tcp_established"},"namespace":{"constant_value":"CWAgent"},"period":{"constant_value":"600"},"statistic":{"constant_value":"Average"},"tags":{"references":["var.project_name"]},"threshold":{"constant_value":"1"},"treat_missing_data":{"constant_value":"notBreaching"}},"schema_version":1},{"address":"aws_cloudwatch_metric_alarm.velocity_cpu_high","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"velocity_cpu_high","provider_config_key":"aws","expressions":{"alarm_actions":{"references":["var.sns_topic_arn"]},"alarm_description":{"constant_value":"This metric monitors velocity ec2 cpu utilization"},"alarm_name":{"references":["var.project_name"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"dimensions":{"references":["var.velocity_instance_id"]},"evaluation_periods":{"constant_value":"2"},"metric_name":{"constant_value":"CPUUtilization"},"namespace":{"constant_value":"AWS/EC2"},"period":{"constant_value":"300"},"statistic":{"constant_value":"Average"},"tags":{"references":["var.project_name"]},"threshold":{"constant_value":"80"}},"schema_version":1},{"address":"aws_ssm_parameter.cloudwatch_agent_config","mode":"managed","type":"aws_ssm_parameter","name":"cloudwatch_agent_config","provider_config_key":"aws","expressions":{"name":{"references":["var.project_name"]},"tags":{"references":["var.project_name"]},"type":{"constant_value":"String"},"value":{"references":["aws_cloudwatch_log_group.system_logs.name","aws_cloudwatch_log_group.system_logs","aws_cloudwatch_log_group.velocity_logs.name","aws_cloudwatch_log_group.velocity_logs","aws_cloudwatch_log_group.paper_logs.name","aws_cloudwatch_log_group.paper_logs"]}},"schema_version":0}],"variables":{"paper_instance_id":{"description":"EC2 Instance ID for Paper server"},"project_name":{"description":"Project name for resource naming"},"sns_topic_arn":{"description":"SNS Topic ARN for alerts"},"velocity_instance_id":{"description":"EC2 Instance ID for Velocity server"}}},"depends_on":["module.ec2","module.sns"]},"ebs":{"source":"./modules/ebs","expressions":{"availability_zone":{"references":["var.availability_zone"]},"paper_ebs_size":{"references":["var.paper_ebs_size"]},"project_name":{"references":["var.project_name"]},"velocity_ebs_size":{"references":["var.velocity_ebs_size"]}},"module":{"outputs":{"paper_ebs_volume_id":{"expression":{"references":["aws_ebs_volume.paper_ebs.id","aws_ebs_volume.paper_ebs"]}},"velocity_ebs_volume_id":{"expression":{"references":["aws_ebs_volume.velocity_ebs.id","aws_ebs_volume.velocity_ebs"]}}},"resources":[{"address":"aws_ebs_volume.paper_ebs","mode":"managed","type":"aws_ebs_volume","name":"paper_ebs","provider_config_key":"aws","expressions":{"availability_zone":{"references":["var.availability_zone"]},"size":{"references":["var.paper_ebs_size"]},"tags":{"references":["var.project_name"]},"type":{"constant_value":"gp3"}},"schema_version":0},{"address":"aws_ebs_volume.velocity_ebs","mode":"managed","type":"aws_ebs_volume","name":"velocity_ebs","provider_config_key":"aws","expressions":{"availability_zone":{"references":["var.availability_zone"]},"size":{"references":["var.velocity_ebs_size"]},"tags":{"references":["var.project_name"]},"type":{"constant_value":"gp3"}},"schema_version":0}],"variables":{"availability_zone":{"description":"The availability zone to create the EBS volume in"},"paper_ebs_size":{"description":"The size of the EBS volume for PaperMC in gigabytes"},"project_name":{"description":"The name of the project"},"velocity_ebs_size":{"description":"The size of the EBS volume for Velocity in gigabytes"}}}},"ec2":{"source":"./modules/ec2","expressions":{"availability_zone":{"references":["module.vpc.availability_zone","module.vpc"]},"iam_instance_profile_name":{"references":["module.iam.ec2_instance_profile_name","module.iam"]},"key_name":{"references":["var.key_name"]},"paper_ebs_volume_id":{"references":["module.ebs.paper_ebs_volume_id","module.ebs"]},"paper_instance_type":{"references":["var.paper_instance_type"]},"paper_security_group_id":{"references":["module.security.paper_security_group_id","module.security"]},"private_subnet_id":{"references":["module.vpc.private_subnet_id","module.vpc"]},"project_name":{"references":["var.project_name"]},"public_subnet_id":{"references":["module.vpc.public_subnet_id","module.vpc"]},"velocity_ebs_volume_id":{"references":["module.ebs.velocity_ebs_volume_id","module.ebs"]},"velocity_instance_type":{"references":["var.velocity_instance_type"]},"velocity_security_group_id":{"references":["module.security.velocity_security_group_id","module.security"]},"vpc_id":{"references":["module.vpc.vpc_id","module.vpc"]}},"module":{"outputs":{"ec2_instances_info":{"expression":{"references":["aws_instance.velocity_ec2.id","aws_instance.velocity_ec2","aws_instance.velocity_ec2.private_ip","aws_instance.velocity_ec2","aws_eip.velocity_eip.public_ip","aws_eip.velocity_eip","var.velocity_instance_type","aws_instance.paper_ec2.id","aws_instance.paper_ec2","aws_instance.paper_ec2.private_ip","aws_instance.paper_ec2","var.paper_instance_type"]},"description":"EC2 인스턴스들의 상세 정보"}},"resources":[{"address":"aws_eip.velocity_eip","mode":"managed","type":"aws_eip","name":"velocity_eip","provider_config_key":"aws","expressions":{"domain":{"constant_value":"vpc"},"instance":{"references":["aws_instance.velocity_ec2.id","aws_instance.velocity_ec2"]},"tags":{"references":["var.project_name"]}},"schema_version":0,"depends_on":["aws_instance.velocity_ec2"]},{"address":"aws_instance.paper_ec2","mode":"managed","type":"aws_instance","name":"paper_ec2","provider_config_key":"aws","expressions":{"ami":{"references":["data.aws_ami.ubuntu.id","data.aws_ami.ubuntu"]},"iam_instance_profile":{"references":["var.iam_instance_profile_name"]},"instance_type":{"references":["var.paper_instance_type"]},"key_name":{"references":["var.key_name"]},"subnet_id":{"references":["var.private_subnet_id"]},"tags":{"references":["var.project_name"]},"user_data":{"references":["path.module"]},"vpc_security_group_ids":{"references":["var.paper_security_group_id"]}},"schema_version":1},{"address":"aws_instance.velocity_ec2","mode":"managed","type":"aws_instance","name":"velocity_ec2","provider_config_key":"aws","expressions":{"ami":{"references":["data.aws_ami.ubuntu.id","data.aws_ami.ubuntu"]},"iam_instance_profile":{"references":["var.iam_instance_profile_name"]},"instance_type":{"references":["var.velocity_instance_type"]},"key_name":{"references":["var.key_name"]},"subnet_id":{"references":["var.public_subnet_id"]},"tags":{"references":["var.project_name"]},"user_data":{"references":["path.module"]},"vpc_security_group_ids":{"references":["var.velocity_security_group_id"]}},"schema_version":1},{"address":"aws_volume_attachment.paper_ebs_attachment","mode":"managed","type":"aws_volume_attachment","name":"paper_ebs_attachment","provider_config_key":"aws","expressions":{"device_name":{"constant_value":"/dev/xvdf"},"instance_id":{"references":["aws_instance.paper_ec2.id","aws_instance.paper_ec2"]},"volume_id":{"references":["var.paper_ebs_volume_id"]}},"schema_version":0},{"address":"aws_volume_attachment.velocity_ebs_attachment","mode":"managed","type":"aws_volume_attachment","name":"velocity_ebs_attachment","provider_config_key":"aws","expressions":{"device_name":{"constant_value":"/dev/xvdf"},"instance_id":{"references":["aws_instance.velocity_ec2.id","aws_instance.velocity_ec2"]},"volume_id":{"references":["var.velocity_ebs_volume_id"]}},"schema_version":0},{"address":"data.aws_ami.ubuntu","mode":"data","type":"aws_ami","name":"ubuntu","provider_config_key":"aws","expressions":{"filter":[{"name":{"constant_value":"name"},"values":{"constant_value":["ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-*"]}},{"name":{"constant_value":"architecture"},"values":{"constant_value":["arm64"]}},{"name":{"constant_value":"virtualization-type"},"values":{"constant_value":["hvm"]}}],"most_recent":{"constant_value":true},"owners":{"constant_value":["099720109477"]},"tags":{"references":["var.project_name"]}},"schema_version":0}],"variables":{"availability_zone":{"description":"가용 영역"},"iam_instance_profile_name":{"description":"EC2 Instance Profile 이름"},"key_name":{"description":"EC2 인스턴스에 사용할 키페어 이름"},"paper_ebs_volume_id":{"description":"Paper EC2에 연결할 EBS 볼륨 ID"},"paper_instance_type":{"description":"Paper EC2 인스턴스 타입"},"paper_security_group_id":{"description":"Paper 보안 그룹 ID"},"private_subnet_id":{"description":"Private Subnet ID (Paper EC2용)"},"project_name":{"description":"프로젝트 이름"},"public_subnet_id":{"description":"Public Subnet ID (Proxy EC2용)"},"velocity_ebs_volume_id":{"description":"Velocity EC2에 연결할 EBS 볼륨 ID"},"velocity_instance_type":{"description":"Velocity EC2 인스턴스 타입"},"velocity_security_group_id":{"description":"Velocity 보안 그룹 ID"},"vpc_id":{"description":"VPC ID"}}},"depends_on":["module.vpc","module.security","module.iam","module.ebs"]},"flow_logs":{"source":"./modules/flow_logs","expressions":{"project_name":{"references":["var.project_name"]},"vpc_id":{"references":["module.vpc.vpc_id","module.vpc"]}},"module":{"outputs":{"flow_log_id":{"expression":{"references":["aws_flow_log.vpc_flow_log.id","aws_flow_log.vpc_flow_log"]},"description":"ID of the VPC Flow Log"},"s3_bucket_arn":{"expression":{"references":["aws_s3_bucket.vpc_flow_logs.arn","aws_s3_bucket.vpc_flow_logs"]},"description":"ARN of the S3 bucket for VPC Flow Logs"},"s3_bucket_name":{"expression":{"references":["aws_s3_bucket.vpc_flow_logs.bucket","aws_s3_bucket.vpc_flow_logs"]},"description":"Name of the S3 bucket for VPC Flow Logs"}},"resources":[{"address":"aws_flow_log.vpc_flow_log","mode":"managed","type":"aws_flow_log","name":"vpc_flow_log","provider_config_key":"aws","expressions":{"iam_role_arn":{"references":["aws_iam_role.flow_log.arn","aws_iam_role.flow_log"]},"log_destination":{"references":["aws_s3_bucket.vpc_flow_logs.arn","aws_s3_bucket.vpc_flow_logs"]},"tags":{"references":["var.project_name"]},"traffic_type":{"constant_value":"ALL"},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":0},{"address":"aws_iam_role.flow_log","mode":"managed","type":"aws_iam_role","name":"flow_log","provider_config_key":"aws","expressions":{"assume_role_policy":{},"name":{"references":["var.project_name"]}},"schema_version":0},{"address":"aws_iam_role_policy.flow_log","mode":"managed","type":"aws_iam_role_policy","name":"flow_log","provider_config_key":"aws","expressions":{"name":{"references":["var.project_name"]},"policy":{},"role":{"references":["aws_iam_role.flow_log.id","aws_iam_role.flow_log"]}},"schema_version":0},{"address":"aws_s3_bucket.vpc_flow_logs","mode":"managed","type":"aws_s3_bucket","name":"vpc_flow_logs","provider_config_key":"aws","expressions":{"bucket":{"references":["var.project_name","random_string.bucket_suffix.result","random_string.bucket_suffix"]},"tags":{"references":["var.project_name"]}},"schema_version":0},{"address":"aws_s3_bucket_policy.vpc_flow_logs_policy","mode":"managed","type":"aws_s3_bucket_policy","name":"vpc_flow_logs_policy","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.vpc_flow_logs.id","aws_s3_bucket.vpc_flow_logs"]},"policy":{"references":["aws_s3_bucket.vpc_flow_logs.arn","aws_s3_bucket.vpc_flow_logs","aws_s3_bucket.vpc_flow_logs.arn","aws_s3_bucket.vpc_flow_logs"]}},"schema_version":0},{"address":"random_string.bucket_suffix","mode":"managed","type":"random_string","name":"bucket_suffix","provider_config_key":"module.flow_logs:random","expressions":{"length":{"constant_value":8},"special":{"constant_value":false},"upper":{"constant_value":false}},"schema_version":2}],"variables":{"project_name":{"description":"Project name for resource naming"},"vpc_id":{"description":"VPC ID for flow logs"}}},"depends_on":["module.vpc"]},"iam":{"source":"./modules/iam","expressions":{"project_name":{"references":["var.project_name"]}},"module":{"outputs":{"ec2_instance_profile_arn":{"expression":{"references":["aws_iam_instance_profile.ec2_profile.arn","aws_iam_instance_profile.ec2_profile"]},"description":"EC2 Instance Profile ARN"},"ec2_instance_profile_name":{"expression":{"references":["aws_iam_instance_profile.ec2_profile.name","aws_iam_instance_profile.ec2_profile"]},"description":"EC2 Instance Profile 이름"},"ec2_role_arn":{"expression":{"references":["aws_iam_role.ec2_role.arn","aws_iam_role.ec2_role"]},"description":"EC2 IAM Role ARN"},"ec2_role_name":{"expression":{"references":["aws_iam_role.ec2_role.name","aws_iam_role.ec2_role"]},"description":"EC2 IAM Role 이름"}},"resources":[{"address":"aws_iam_instance_profile.ec2_profile","mode":"managed","type":"aws_iam_instance_profile","name":"ec2_profile","provider_config_key":"aws","expressions":{"name":{"references":["var.project_name"]},"role":{"references":["aws_iam_role.ec2_role.name","aws_iam_role.ec2_role"]}},"schema_version":0},{"address":"aws_iam_role.ec2_role","mode":"managed","type":"aws_iam_role","name":"ec2_role","provider_config_key":"aws","expressions":{"assume_role_policy":{},"name":{"references":["var.project_name"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.cloudwatch_agent_server_policy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"cloudwatch_agent_server_policy","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/CloudWatchAgentServerPolicy"},"role":{"references":["aws_iam_role.ec2_role.name","aws_iam_role.ec2_role"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.ssm_managed_instance_core","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ssm_managed_instance_core","provider_config_key":"aws","expressions":{"policy_arn":{"constant_value":"arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"},"role":{"references":["aws_iam_role.ec2_role.name","aws_iam_role.ec2_role"]}},"schema_version":0}],"variables":{"project_name":{"description":"프로젝트 이름"}}}},"security":{"source":"./modules/security","expressions":{"project_name":{"references":["var.project_name"]},"vpc_id":{"references":["module.vpc.vpc_id","module.vpc"]}},"module":{"outputs":{"paper_security_group_id":{"expression":{"references":["aws_security_group.mcserver_paper_sg.id","aws_security_group.mcserver_paper_sg"]},"description":"Paper Server 보안 그룹 ID"},"security_groups_info":{"expression":{"references":["aws_security_group.mcserver_velocity_sg.id","aws_security_group.mcserver_velocity_sg","aws_security_group.mcserver_velocity_sg.name","aws_security_group.mcserver_velocity_sg","aws_security_group.mcserver_velocity_sg.arn","aws_security_group.mcserver_velocity_sg","aws_security_group.mcserver_paper_sg.id","aws_security_group.mcserver_paper_sg","aws_security_group.mcserver_paper_sg.name","aws_security_group.mcserver_paper_sg","aws_security_group.mcserver_paper_sg.arn","aws_security_group.mcserver_paper_sg"]},"description":"생성된 보안 그룹들의 상세 정보"},"velocity_security_group_id":{"expression":{"references":["aws_security_group.mcserver_velocity_sg.id","aws_security_group.mcserver_velocity_sg"]},"description":"Velocity 보안 그룹 ID"}},"resources":[{"address":"aws_security_group.mcserver_paper_sg","mode":"managed","type":"aws_security_group","name":"mcserver_paper_sg","provider_config_key":"aws","expressions":{"description":{"constant_value":"Security group for Paper Minecraft servers"},"name":{"references":["var.project_name"]},"tags":{"references":["var.project_name"]},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1},{"address":"aws_security_group.mcserver_velocity_sg","mode":"managed","type":"aws_security_group","name":"mcserver_velocity_sg","provider_config_key":"aws","expressions":{"description":{"constant_value":"Security group for Velocity server"},"name":{"references":["var.project_name"]},"tags":{"references":["var.project_name"]},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1},{"address":"aws_vpc_security_group_egress_rule.paper_egress","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"paper_egress","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"description":{"constant_value":"All outbound traffic"},"ip_protocol":{"constant_value":"-1"},"security_group_id":{"references":["aws_security_group.mcserver_paper_sg.id","aws_security_group.mcserver_paper_sg"]}},"schema_version":0},{"address":"aws_vpc_security_group_egress_rule.velocity_egress","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"velocity_egress","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"description":{"constant_value":"All outbound traffic"},"ip_protocol":{"constant_value":"-1"},"security_group_id":{"references":["aws_security_group.mcserver_velocity_sg.id","aws_security_group.mcserver_velocity_sg"]}},"schema_version":0},{"address":"aws_vpc_security_group_ingress_rule.paper_ingress","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"paper_ingress","provider_config_key":"aws","expressions":{"description":{"constant_value":"Connections from Velocity"},"from_port":{"constant_value":25501},"ip_protocol":{"constant_value":"tcp"},"referenced_security_group_id":{"references":["aws_security_group.mcserver_velocity_sg.id","aws_security_group.mcserver_velocity_sg"]},"security_group_id":{"references":["aws_security_group.mcserver_paper_sg.id","aws_security_group.mcserver_paper_sg"]},"to_port":{"constant_value":25503}},"schema_version":0},{"address":"aws_vpc_security_group_ingress_rule.paper_ssh_ingress","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"paper_ssh_ingress","provider_config_key":"aws","expressions":{"description":{"constant_value":"SSH access from Velocity server"},"from_port":{"constant_value":22},"ip_protocol":{"constant_value":"tcp"},"referenced_security_group_id":{"references":["aws_security_group.mcserver_velocity_sg.id","aws_security_group.mcserver_velocity_sg"]},"security_group_id":{"references":["aws_security_group.mcserver_paper_sg.id","aws_security_group.mcserver_paper_sg"]},"to_port":{"constant_value":22}},"schema_version":0},{"address":"aws_vpc_security_group_ingress_rule.velocity_ingress","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"velocity_ingress","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"description":{"constant_value":"Minecraft client connections"},"from_port":{"constant_value":25565},"ip_protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.mcserver_velocity_sg.id","aws_security_group.mcserver_velocity_sg"]},"to_port":{"constant_value":25565}},"schema_version":0},{"address":"aws_vpc_security_group_ingress_rule.velocity_ssh_ingress","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"velocity_ssh_ingress","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"description":{"constant_value":"SSH access from anywhere"},"from_port":{"constant_value":22},"ip_protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.mcserver_velocity_sg.id","aws_security_group.mcserver_velocity_sg"]},"to_port":{"constant_value":22}},"schema_version":0}],"variables":{"project_name":{"description":"프로젝트 이름"},"vpc_id":{"description":"VPC ID (VPC 모듈에서 전달받음)"}}},"depends_on":["module.vpc"]},"sns":{"source":"./modules/sns","expressions":{"alert_email":{"references":["var.alert_email"]},"project_name":{"references":["var.project_name"]}},"module":{"outputs":{"sns_topic_arn":{"expression":{"references":["aws_sns_topic.alerts.arn","aws_sns_topic.alerts"]},"description":"ARN of the SNS topic for alerts"},"sns_topic_name":{"expression":{"references":["aws_sns_topic.alerts.name","aws_sns_topic.alerts"]},"description":"Name of the SNS topic"}},"resources":[{"address":"aws_sns_topic.alerts","mode":"managed","type":"aws_sns_topic","name":"alerts","provider_config_key":"aws","expressions":{"name":{"references":["var.project_name"]},"tags":{"references":["var.project_name"]}},"schema_version":0},{"address":"aws_sns_topic_subscription.email_alerts","mode":"managed","type":"aws_sns_topic_subscription","name":"email_alerts","provider_config_key":"aws","expressions":{"endpoint":{"references":["var.alert_email"]},"protocol":{"constant_value":"email"},"topic_arn":{"references":["aws_sns_topic.alerts.arn","aws_sns_topic.alerts"]}},"schema_version":0,"count_expression":{"references":["var.alert_email"]}}],"variables":{"alert_email":{"default":"","description":"Email address for alerts"},"project_name":{"description":"Project name for resource naming"}}}},"vpc":{"source":"./modules/vpc","expressions":{"availability_zone":{"references":["var.availability_zone"]},"private_subnet_cidr":{"references":["var.private_subnet_cidr"]},"project_name":{"references":["var.project_name"]},"public_subnet_cidr":{"references":["var.public_subnet_cidr"]},"vpc_cidr":{"references":["var.vpc_cidr"]}},"module":{"outputs":{"availability_zone":{"expression":{"references":["var.availability_zone"]},"description":"가용 영역"},"internet_gateway_id":{"expression":{"references":["aws_internet_gateway.mcserver_igw.id","aws_internet_gateway.mcserver_igw"]},"description":"IGW ID"},"private_route_table_ids":{"expression":{"references":["aws_route_table.private.id","aws_route_table.private"]},"description":"Private 라우팅 테이블 ID "},"private_subnet_cidr":{"expression":{"references":["aws_subnet.private.cidr_block","aws_subnet.private"]},"description":"Private Subnet CIDR 블록 "},"private_subnet_id":{"expression":{"references":["aws_subnet.private.id","aws_subnet.private"]},"description":"Private Subnet ID "},"public_route_table_id":{"expression":{"references":["aws_route_table.public.id","aws_route_table.public"]},"description":"Public 라우팅 테이블 ID"},"public_subnet_cidr":{"expression":{"references":["aws_subnet.public.cidr_block","aws_subnet.public"]},"description":"Public Subnet CIDR 블록 "},"public_subnet_id":{"expression":{"references":["aws_subnet.public.id","aws_subnet.public"]},"description":"Public Subnet ID "},"vpc_cidr_block":{"expression":{"references":["aws_vpc.main.cidr_block","aws_vpc.main"]},"description":"VPC CIDR 블록"},"vpc_id":{"expression":{"references":["aws_vpc.main.id","aws_vpc.main"]},"description":"생성된 VPC ID"}},"resources":[{"address":"aws_internet_gateway.mcserver_igw","mode":"managed","type":"aws_internet_gateway","name":"mcserver_igw","provider_config_key":"aws","expressions":{"tags":{"references":["var.project_name"]},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":0},{"address":"aws_route_table.private","mode":"managed","type":"aws_route_table","name":"private","provider_config_key":"aws","expressions":{"route":{"references":["aws_internet_gateway.mcserver_igw.id","aws_internet_gateway.mcserver_igw"]},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":0},{"address":"aws_route_table.public","mode":"managed","type":"aws_route_table","name":"public","provider_config_key":"aws","expressions":{"route":{"references":["aws_internet_gateway.mcserver_igw.id","aws_internet_gateway.mcserver_igw"]},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":0},{"address":"aws_route_table_association.private","mode":"managed","type":"aws_route_table_association","name":"private","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.private.id","aws_route_table.private"]},"subnet_id":{"references":["aws_subnet.private.id","aws_subnet.private"]}},"schema_version":0},{"address":"aws_route_table_association.public","mode":"managed","type":"aws_route_table_association","name":"public","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.public.id","aws_route_table.public"]},"subnet_id":{"references":["aws_subnet.public.id","aws_subnet.public"]}},"schema_version":0},{"address":"aws_subnet.private","mode":"managed","type":"aws_subnet","name":"private","provider_config_key":"aws","expressions":{"availability_zone":{"references":["var.availability_zone"]},"cidr_block":{"references":["var.private_subnet_cidr"]},"map_public_ip_on_launch":{"constant_value":true},"tags":{"references":["var.project_name"]},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":1},{"address":"aws_subnet.public","mode":"managed","type":"aws_subnet","name":"public","provider_config_key":"aws","expressions":{"availability_zone":{"references":["var.availability_zone"]},"cidr_block":{"references":["var.public_subnet_cidr"]},"map_public_ip_on_launch":{"constant_value":true},"tags":{"references":["var.project_name"]},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":1},{"address":"aws_vpc.main","mode":"managed","type":"aws_vpc","name":"main","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.vpc_cidr"]},"tags":{"references":["var.project_name"]}},"schema_version":1}],"variables":{"availability_zone":{"description":"가용 영역"},"private_subnet_cidr":{"description":"Private Subnet CIDR 블록 "},"project_name":{"description":"프로젝트 이름"},"public_subnet_cidr":{"description":"Public Subnet CIDR 블록 "},"vpc_cidr":{"description":"VPC CIDR 블록"}}}}},"variables":{"alert_email":{"default":"","description":"모니터링 알림을 받을 이메일 주소 (선택사항)"},"availability_zone":{"default":"ap-northeast-2a","description":"가용 영역"},"aws_region":{"default":"ap-northeast-2","description":"AWS 리전"},"key_name":{"default":"mcserver","description":"EC2 인스턴스에 사용할 키페어 이름"},"paper_ebs_size":{"default":20,"description":"PaperMC 서버용 EBS 볼륨 크기 (GB)"},"paper_instance_type":{"description":"Paper Server EC2 인스턴스 타입"},"private_subnet_cidr":{"default":"10.0.11.0/24","description":"Private Subnet CIDR 블록"},"project_name":{"default":"mc-server","description":"프로젝트 이름"},"public_subnet_cidr":{"default":"10.0.1.0/24","description":"Public Subnet CIDR 블록"},"velocity_ebs_size":{"default":1,"description":"Velocity 프록시용 EBS 볼륨 크기 (GB)"},"velocity_instance_type":{"description":"Velocity Proxy EC2 인스턴스 타입"},"vpc_cidr":{"default":"10.0.0.0/16","description":"VPC CIDR 블록"}}}},"relevant_attributes":[{"resource":"module.cloudwatch.aws_cloudwatch_log_group.paper_logs","attribute":["name"]},{"resource":"module.iam.aws_iam_instance_profile.ec2_profile","attribute":["name"]},{"resource":"module.iam.aws_iam_role.ec2_role","attribute":["name"]},{"resource":"module.security.aws_security_group.mcserver_paper_sg","attribute":["arn"]},{"resource":"module.cloudwatch.aws_cloudwatch_metric_alarm.paper_memory_high","attribute":["alarm_name"]},{"resource":"module.flow_logs.aws_s3_bucket.vpc_flow_logs","attribute":["arn"]},{"resource":"module.cloudwatch.aws_cloudwatch_log_group.system_logs","attribute":["name"]},{"resource":"module.cloudwatch.aws_cloudwatch_metric_alarm.paper_disk_monitoring","attribute":["alarm_name"]},{"resource":"module.flow_logs.aws_flow_log.vpc_flow_log","attribute":["id"]},{"resource":"module.flow_logs.aws_s3_bucket.vpc_flow_logs","attribute":["bucket"]},{"resource":"module.security.aws_security_group.mcserver_velocity_sg","attribute":["name"]},{"resource":"module.cloudwatch.aws_ssm_parameter.cloudwatch_agent_config","attribute":["name"]},{"resource":"module.cloudwatch.aws_cloudwatch_log_group.velocity_logs","attribute":["name"]},{"resource":"module.security.aws_security_group.mcserver_paper_sg","attribute":["id"]},{"resource":"module.security.aws_security_group.mcserver_velocity_sg","attribute":["id"]},{"resource":"module.cloudwatch.aws_cloudwatch_metric_alarm.velocity_cpu_high","attribute":["alarm_name"]},{"resource":"module.ec2.aws_instance.velocity_ec2","attribute":["id"]},{"resource":"module.iam.aws_iam_role.ec2_role","attribute":["arn"]},{"resource":"module.ebs.aws_ebs_volume.velocity_ebs","attribute":["id"]},{"resource":"module.flow_logs.aws_s3_bucket.vpc_flow_logs","attribute":["id"]},{"resource":"module.vpc.aws_subnet.public","attribute":["id"]},{"resource":"module.vpc.aws_subnet.private","attribute":["cidr_block"]},{"resource":"module.ec2.data.aws_ami.ubuntu","attribute":["id"]},{"resource":"module.ec2.aws_instance.velocity_ec2","attribute":["private_ip"]},{"resource":"module.cloudwatch.aws_cloudwatch_metric_alarm.paper_cpu_high","attribute":["alarm_name"]},{"resource":"module.ec2.aws_instance.paper_ec2","attribute":["private_ip"]},{"resource":"module.security.aws_security_group.mcserver_paper_sg","attribute":["name"]},{"resource":"module.security.aws_security_group.mcserver_velocity_sg","attribute":["arn"]},{"resource":"module.vpc.aws_vpc.main","attribute":["cidr_block"]},{"resource":"module.vpc.aws_subnet.public","attribute":["cidr_block"]},{"resource":"module.flow_logs.aws_iam_role.flow_log","attribute":["arn"]},{"resource":"module.flow_logs.aws_iam_role.flow_log","attribute":["id"]},{"resource":"module.iam.aws_iam_instance_profile.ec2_profile","attribute":["arn"]},{"resource":"module.ebs.aws_ebs_volume.paper_ebs","attribute":["id"]},{"resource":"module.vpc.aws_internet_gateway.mcserver_igw","attribute":["id"]},{"resource":"module.cloudwatch.aws_cloudwatch_metric_alarm.paper_network_monitoring","attribute":["alarm_name"]},{"resource":"module.ec2.aws_eip.velocity_eip","attribute":["public_ip"]},{"resource":"module.sns.aws_sns_topic.alerts","attribute":["name"]},{"resource":"module.ec2.aws_instance.paper_ec2","attribute":["id"]},{"resource":"module.sns.aws_sns_topic.alerts","attribute":["arn"]},{"resource":"module.vpc.aws_route_table.private","attribute":["id"]},{"resource":"module.flow_logs.random_string.bucket_suffix","attribute":["result"]},{"resource":"module.vpc.aws_subnet.private","attribute":["id"]},{"resource":"module.vpc.aws_route_table.public","attribute":["id"]},{"resource":"module.vpc.aws_vpc.main","attribute":["id"]}],"timestamp":"2025-07-30T12:29:15Z","applyable":true,"complete":true,"errored":false}
